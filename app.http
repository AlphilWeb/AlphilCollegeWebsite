# ### 1. Login to get auth token
# # @name login
### Create Seed Admin User
POST http://localhost:3000/admin/users
Content-Type: application/json

{
  "name": "Philip Koech",
  "email": "alphildirector@gmail.com",
  "password": "Kipngetich2025",
  "role": "admin"
}


# ### Store the token from login response
# @authToken = {{login.response.body.token}}

# ### 2. Get current user profile (test auth)
# GET http://localhost:3000/users/profile
# Authorization: Bearer {{authToken}}

# ### 3. Get all users (admin only)
# GET http://localhost:3000/admin/users
# Authorization: Bearer {{authToken}}

# ### 4. Create new user (admin only)
# # @name createUser
# POST http://localhost:3000/admin/users
# Content-Type: application/json
# Authorization: Bearer {{authToken}}

# {
#   "name": "Test User",
#   "email": "test.user@example.com",
#   "password": "test1234",
#   "role": "admin"
# }

# ### Store the new user ID
# @newUserId = {{createUser.response.body.id}}

# ### 5. Get specific user (example - might need implementation)
# GET http://localhost:3000/admin/users/{{newUserId}}
# Authorization: Bearer {{authToken}}

# ### 6. Update user profile (non-admin)
# PATCH http://localhost:3000/users/profile
# Content-Type: application/json
# Authorization: Bearer {{authToken}}

# {
#   "name": "Updated Name"
# }

# ### 7. Delete user (admin only)
# DELETE http://localhost:3000/admin/users/{{newUserId}}
# Authorization: Bearer {{authToken}}

# ### 8. Attempt to create user with invalid data (should fail)
# POST http://localhost:3000/admin/users
# Content-Type: application/json
# Authorization: Bearer {{authToken}}

# {
#   "name": "",
#   "email": "not-an-email",
#   "password": "short"
# }

# ### 9. Attempt admin route without token (should fail)
# GET http://localhost:3000/admin/users

# ### 10. Attempt admin route with user role (should fail if not admin)
# GET http://localhost:3000/admin/users
# Authorization: Bearer {{authToken}}
